@page
@model TNS_EDU_STUDY.Areas.Study.Pages.IndexModel
@{
    Layout = "_Layout";
}



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
<style>
    body {
        background: linear-gradient(135deg, #e0f7fa, #fff9c4);
    }

    .study-container {
        max-width: 900px;
        margin: 40px auto;
        padding: 40px;
        background-color: #ffffff;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        text-align: center;
    }

    .study-title {
        font-size: 2.5rem;
        font-weight: 700;
        color: #00796b;
        margin-bottom: 20px;
    }

    .study-description {
        font-size: 1.1rem;
        color: #555;
        margin-bottom: 40px;
    }

    .part-selection-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin-bottom: 40px;
    }

    .part-card {
        background-color: #f1f8e9;
        border: 2px solid transparent;
        border-radius: 15px;
        padding: 20px;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .part-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 25px rgba(0, 121, 107, 0.15);
        border-color: #81c784;
    }

    .part-card.selected {
        border-color: #4caf50;
        background-color: #dcedc8;
        box-shadow: 0 8px 20px rgba(76, 175, 80, 0.2);
    }

    .part-card-icon {
        font-size: 3rem;
        color: #4caf50;
        margin-bottom: 15px;
    }

    .part-card-title {
        font-size: 1.5rem;
        font-weight: 600;
        color: #388e3c;
    }

    .start-study-btn {
        background: linear-gradient(45deg, #66bb6a, #43a047);
        color: white;
        padding: 15px 40px;
        border: none;
        border-radius: 50px;
        font-size: 1.2rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        opacity: 0.5;
        pointer-events: none;
    }

    .start-study-btn.active {
        opacity: 1;
        pointer-events: auto;
    }

    .start-study-btn:hover:not(:disabled) {
        transform: translateY(-3px);
        box-shadow: 0 7px 20px rgba(76, 175, 80, 0.4);
    }

    .start-study-btn:disabled {
        cursor: not-allowed;
    }

    #selectedPartInput {
        display: none;
    }
</style>

<div class="study-container">
    <h1 class="study-title">Luyện tập TOEIC theo từng Part</h1>
    <p class="study-description">Chọn một Part bạn muốn luyện tập bên dưới. Hệ thống sẽ tạo một bài thi riêng cho Part đó để giúp bạn cải thiện kỹ năng.</p>

    <form method="post">
        <div class="part-selection-grid" id="part-selection-grid">
            <!-- Part 1 -->
            <div class="part-card" data-part="1" onclick="selectPart(1, this)">
                <div class="part-card-icon"><i class="fas fa-camera"></i></div>
                <div class="part-card-title">Part 1</div>
            </div>
            <!-- Part 2 -->
            <div class="part-card" data-part="2" onclick="selectPart(2, this)">
                <div class="part-card-icon"><i class="fas fa-question-circle"></i></div>
                <div class="part-card-title">Part 2</div>
            </div>
            <!-- Part 3 -->
            <div class="part-card" data-part="3" onclick="selectPart(3, this)">
                <div class="part-card-icon"><i class="fas fa-comments"></i></div>
                <div class="part-card-title">Part 3</div>
            </div>
            <!-- Part 4 -->
            <div class="part-card" data-part="4" onclick="selectPart(4, this)">
                <div class="part-card-icon"><i class="fas fa-bullhorn"></i></div>
                <div class="part-card-title">Part 4</div>
            </div>
            <!-- Part 5 -->
            <div class="part-card" data-part="5" onclick="selectPart(5, this)">
                <div class="part-card-icon"><i class="fas fa-edit"></i></div>
                <div class="part-card-title">Part 5</div>
            </div>
            <!-- Part 6 -->
            <div class="part-card" data-part="6" onclick="selectPart(6, this)">
                <div class="part-card-icon"><i class="fas fa-file-alt"></i></div>
                <div class="part-card-title">Part 6</div>
            </div>
            <!-- Part 7 -->
            <div class="part-card" data-part="7" onclick="selectPart(7, this)">
                <div class="part-card-icon"><i class="fas fa-newspaper"></i></div>
                <div class="part-card-title">Part 7</div>
            </div>
        </div>

        <input type="hidden" id="selectedPartInput" name="selectedPart" asp-for="SelectedPart" />
        
        <button type="submit" class="start-study-btn" id="start-study-btn" disabled>
            <i class="fas fa-play-circle"></i> Bắt đầu Luyện tập
        </button>
    </form>
</div>

@section Scripts {
    <script>
        function selectPart(partNumber, element) {
            // Xóa class 'selected' khỏi tất cả các card
            document.querySelectorAll('.part-card').forEach(card => {
                card.classList.remove('selected');
            });

            // Thêm class 'selected' cho card được click
            element.classList.add('selected');

            // Cập nhật giá trị cho input ẩn
            document.getElementById('selectedPartInput').value = partNumber;

            // Kích hoạt nút bắt đầu
            const startButton = document.getElementById('start-study-btn');
            startButton.disabled = false;
            startButton.classList.add('active');
        }
    </script>
}
